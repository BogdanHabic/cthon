Grammar

    0 $accept: lines $end

    1 lines: %empty
    2      | lines NEWLINE
    3      | lines expression NEWLINE

    4 expression: expression PLUS expression
    5           | expression MINUS expression
    6           | expression MULTIPLY expression
    7           | expression DIVIDE expression
    8           | MINUS expression
    9           | NUMBER


Terminals, with rules where they appear

$end (0) 0
error (256)
NUMBER (258) 9
PLUS (259) 4
MINUS (260) 5 8
MULTIPLY (261) 6
DIVIDE (262) 7
NEWLINE (263) 2 3
UMINUS (264)


Nonterminals, with rules where they appear

$accept (10)
    on left: 0
lines (11)
    on left: 1 2 3, on right: 0 2 3
expression (12)
    on left: 4 5 6 7 8 9, on right: 3 4 5 6 7 8


State 0

    0 $accept: . lines $end

    $default  reduce using rule 1 (lines)

    lines  go to state 1


State 1

    0 $accept: lines . $end
    2 lines: lines . NEWLINE
    3      | lines . expression NEWLINE

    $end     shift, and go to state 2
    NUMBER   shift, and go to state 3
    MINUS    shift, and go to state 4
    NEWLINE  shift, and go to state 5

    expression  go to state 6


State 2

    0 $accept: lines $end .

    $default  accept


State 3

    9 expression: NUMBER .

    $default  reduce using rule 9 (expression)


State 4

    8 expression: MINUS . expression

    NUMBER  shift, and go to state 3
    MINUS   shift, and go to state 4

    expression  go to state 7


State 5

    2 lines: lines NEWLINE .

    $default  reduce using rule 2 (lines)


State 6

    3 lines: lines expression . NEWLINE
    4 expression: expression . PLUS expression
    5           | expression . MINUS expression
    6           | expression . MULTIPLY expression
    7           | expression . DIVIDE expression

    PLUS      shift, and go to state 8
    MINUS     shift, and go to state 9
    MULTIPLY  shift, and go to state 10
    DIVIDE    shift, and go to state 11
    NEWLINE   shift, and go to state 12


State 7

    4 expression: expression . PLUS expression
    5           | expression . MINUS expression
    6           | expression . MULTIPLY expression
    7           | expression . DIVIDE expression
    8           | MINUS expression .

    $default  reduce using rule 8 (expression)


State 8

    4 expression: expression PLUS . expression

    NUMBER  shift, and go to state 3
    MINUS   shift, and go to state 4

    expression  go to state 13


State 9

    5 expression: expression MINUS . expression

    NUMBER  shift, and go to state 3
    MINUS   shift, and go to state 4

    expression  go to state 14


State 10

    6 expression: expression MULTIPLY . expression

    NUMBER  shift, and go to state 3
    MINUS   shift, and go to state 4

    expression  go to state 15


State 11

    7 expression: expression DIVIDE . expression

    NUMBER  shift, and go to state 3
    MINUS   shift, and go to state 4

    expression  go to state 16


State 12

    3 lines: lines expression NEWLINE .

    $default  reduce using rule 3 (lines)


State 13

    4 expression: expression . PLUS expression
    4           | expression PLUS expression .
    5           | expression . MINUS expression
    6           | expression . MULTIPLY expression
    7           | expression . DIVIDE expression

    MULTIPLY  shift, and go to state 10
    DIVIDE    shift, and go to state 11

    $default  reduce using rule 4 (expression)


State 14

    4 expression: expression . PLUS expression
    5           | expression . MINUS expression
    5           | expression MINUS expression .
    6           | expression . MULTIPLY expression
    7           | expression . DIVIDE expression

    MULTIPLY  shift, and go to state 10
    DIVIDE    shift, and go to state 11

    $default  reduce using rule 5 (expression)


State 15

    4 expression: expression . PLUS expression
    5           | expression . MINUS expression
    6           | expression . MULTIPLY expression
    6           | expression MULTIPLY expression .
    7           | expression . DIVIDE expression

    $default  reduce using rule 6 (expression)


State 16

    4 expression: expression . PLUS expression
    5           | expression . MINUS expression
    6           | expression . MULTIPLY expression
    7           | expression . DIVIDE expression
    7           | expression DIVIDE expression .

    $default  reduce using rule 7 (expression)
